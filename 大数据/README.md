# 大数据

大数据时代始于 ApacheHadoop 在 2006 年的亮相，开发人员和架构师将此工具视为有助于处理和存储多结构化数据和半结构化数据。企业在数据方面的理念发生了根本性转变，并不仅限于传统企业数据库的 ACID（原子性、一致性、隔离性和持久性），导致数据使用场合发生了变化，许多公司意识到以前丢弃或保存在静态归档中的数据实际上有助于了解客户行为、采取行动的倾向、风险因素以及复杂的组织、环境和商业行为。Cloudera 这款商业发行版推出后，Hadoop 的商业价值在 2009 年开始得到确立，MapR、Hortonworks 和 EMC Greenplum（现在的 Pivotal HD）紧随其后。

# Hadoop 不足

虽然 Hadoop 在通过批处理支持大型存储和 ETL（提取、转换和加载）作业以及支持机器学习任务方面大有价值，但它在支持公司和大型组织用来管理日常运营的较为传统的分析工作方面并非最佳选择。Hive、Dremel 和 Spark 等工具在 Hadoop 上面使用以支持分析，但 Hadoop 从未变得足够快，无法真正取代数据仓库。

Hadoop 还面临这样的挑战：NoSQL 数据库和对象存储提供商在解决 Hadoop 最初旨在帮助解决的部分存储和管理难题方面取得了进展。随着时间的推移，在 Hadoop 上支持业务连续性面临挑战，加上支持实时、地理空间及其他新兴的分析使用场合方面缺乏灵活性，这使得 Hadoop 面对海量数据时很难在批处理之外大有作为。

此外，久而久之，许多公司开始发现大数据难题越来越与此有关：支持一系列广泛的数据源，并迅速调整数据模式、查询、定义和上下文，新的应用程序、平台和云基础设施供应商就体现了这一点。为了克服这个挑战，分析、集成和复制就必须变得更敏捷更快速。许多供应商纷纷创办就体现了这个挑战，包括：

- 分析解决方案：比如 ClearStory Data、Domo、Incorta、Looker、FineBI、Microsoft Power BI、Qlik、Sisense、Tableau 和 ThoughtSpot

- 数据管道供应商：比如 Alooma、Attunity、Alteryx、Fivetran 和 Matillion

- 数据集成供应商：包括 Informatica、MuleSoft、SnapLogic、Talend 和 TIBCO（后者还凭借其 Spotfire 产品组合角逐分析领域）。

# 大数据的未来

随着大数据的消逝，我们进入到了后大数据时代，包括多云时代、机器学习时代以及实时和无处不在的上下文时代。

- 多云时代恰恰表明日益需要基于现有的各种应用系统跨多云支持应用软件和平台，也日益需要支持持续交付和业务连续性。“某项任务有一个应用软件”这种观念导致了企业中每个员工平均有一个 SaaS 应用软件的业务环境，这意味着每家大企业在为数千个 SaaS 应用软件支持数据和流量。后端容器化这个趋势导致支持按需和峰值使用环境的存储和工作负载环境日益分散化和专业化。

- 机器学习时代专注于分析模型、算法、模型训练、深度学习以及算法和深度学习技术的伦理。机器学习需要处理创建干净数据供分析所用所需的大量相同工作，但还需要另外的数学、业务和伦理上下文以创建持久的长期价值。

- 实时和无处不在的上下文恰恰表明，从分析的角度和交互的角度来看，日益需要及时的更新。从分析的角度来看，公司分析处理仅仅每周更新一次或每天更新一次已不够。员工现在需要近乎实时的更新，否则有可能做出糟糕的公司决策，这些决策在制定的那一刻就已过时或落伍了。有效使用实时分析需要广泛的业务数据，以提供适当的整体上下文以及供针对数据按需执行的分析所用。无处不在还表明了交互的兴起，包括物联网提供表明环境和机械活动的更多边缘观察信息，以及仍在发展中的扩展现实（Extended Reality，包括增强现实和虚拟现实）提供身临其境的体验。为了提供这种级别的交互，必须以交互的速度分析数据，可能短至 300-500 毫秒，以提供有效的行为反馈。

随着大数据时代走到尽头，我们现在可以少关注收集大量数据的机制，多关注处理、分析海量数据并与之实时交互方面的无数挑战。我们迈入大数据驱动的新时代时，请牢记以下几个概念。

- 首先，Hadoop 在企业数据界仍占有一席之地。Amalgam Insights 预计，MapR 最终会被一家以管理 IT 软件出名的公司收购，比如 BMC、冠群或 MicroFocus；并认为 Cloudera 已采取了措施，不仅限于企业 Hadoop，以支持数据的下几个时代。但技术的步伐不可阻挡，Cloudera 的问题在于它的行动是否够快、随势而变。Cloudera 在将其企业数据平台完善成下一代洞察力和机器学习平台方面面临数字化转型挑战。过去几十年，公司能够为转型敲定时间表。现在正如我们从亚马逊、Facebook 和微软等公司看到的那样，仅仅为了活命，成功的科技公司必须准备好每十年就要转型，可能甚至牺牲掉自己的部分业务。

- 其次，对多云分析和数据可视化的需求比以往任何时候都要大。谷歌和 Salesforce 刚斥资 180 亿美元收购了 Looker 和 Tableau，那些收购基本上是针对颇具规模和收入增长的公司的市场价值收购。会投入更多的巨额资金，以克服这一挑战：针对众多数据源提供分析技术，并支持与多云有关的日益分散且多样的存储、计算和集成需求。这意味着企业需要慎重地搞清楚数据集成、数据建模、分析及/或机器学习/数据科学团队可以在多大程度上应对这个挑战，因为处理和分析异构数据变得越来越困难、复杂，但要支持战略业务需求并将数据用作真正的战略优势又势必需要这么做。而仅看国内发展，企业对多云分析和数据可视化的需求也是一样剧增。2006 年成立的国产 BI 软件厂商帆软软件自 2016 年 300 人左右的团队短短三年内成长到现在的 1100 余人，据知为了应对更多的市场需求其团队还在不断扩大。这样的成长速度源自市场需求的增多和帆软对于市场需求走势的判断。

- 第三，机器学习和数据科学是下一代分析技术，需要各自做好新的数据管理工作。大规模创建测试数据、合成数据和掩蔽数据，以及数据沿袭、治理、参数和超参数定义以及算法假设，这些都超出了传统大数据假设的范畴。这里最重要的考量因素是，使用由于种种原因未能很好地服务于企业的数据：样本量小、缺乏数据源、数据定义不清晰、数据上下文不明确，或者算法和分类假设不准确。换句话说，不使用失实的数据。失实的数据会导致有偏见、不合规、不准确的结果，还可能导致诸多问题：比如 Nick Leeson 在 1995 年导致巴林银行（BaringsBank）垮台，或法国兴业银行因 Jerome Kerviel 精心操纵交易而蒙受 70 亿美元的交易损失。AI 现在是新的潜在“流氓交易者”，需要得到适当的治理、管理和支持。

- 第四，需要将实时和无处不在的上下文既视为协作和技术上的挑战，又视为数据挑战。我们正进入这样一个世界：每个对象、流程和对话都可以用附加的上下文加以标记、标注或增强，可以实时处理数 GB 的数据，以生成简单的两个单词警报，可能就像“减慢速度”或“立即购买”这么简单。我们看到“数字孪生”（digital twin）这个概念方兴未艾：在工业界，PTC、GE 及其他产品生命周期和制造公司为设备创建数字孪生；而在销售界，Gong、Tact 和 Voicera 等公司借助额外的上下文以数字方式记录、分析和增强模拟对话。

# 大数据

大数据往往是一种手段，而不是一个目标。最早提出“大数据”时代到来的是全球知名咨询公司麦肯锡，麦肯锡称：“数据，已经渗透到当今每一个行业和业务职能领域，成为重要的生产因素。人们对于海量数据的挖掘和运用，预示着新一波生产率增长和消费者盈余浪潮的到来。”数据，让一切有迹可循，让一切有源可溯。我们每天都在产生数据，创造大数据和使用大数据，只是，你，仍然浑然不知。企业组织利用相关数据和分析可以帮助它们降低成本、提高效率、开发新产品、做出更明智的业务决策等等。大数据的价值，远远不止于此，大数据对各行各业的渗透，大大推动了社会生产和生活，未来必将产生重大而深远的影响。对海量数据进行存储、计算、分析、挖掘处理需要依赖一系列的大数据技术。然而大数据技术其涉及的技术有分布式计算、高并发处理、高可用处理、集群、实时性计算等，汇集了当前 IT 领域热门流行的技术。

## 机器数据

机器数据中包含客户、用户、交易、应用程序、服务器、网络和手机设备所有活动和行为的明确记录。不仅仅包含日志。还包括配置、API 中的数据、消息队列、更改事件、诊断命令输出、工业系统呼叫详细信息记录和传感器数据等。计算机数以未知格式的阵列存储，监测和分析工具的传统集并未为多样性、速率、数据量、可变性设计。一个专为此独特类型数据设计的全新方法，必须可以快速诊断服务问题、检测复杂信息安全威胁、远程设备的健康状况和性能，以及说明合规性。

> 每个环境都有独特的机器数据空间，以下是一些示例。

| 数据类型                     | 位置                                                                                                                 | 它可以告诉您什么                                                               |
| ---------------------------- | -------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------ |
| 应用日志                     | 本地日志文件、log4j、log4net、Weblogic、WebSphere、JBoss、.NET、PHP                                                  | 用户活动、欺诈检测、应用性能                                                   |
| 业务流程日志                 | 业务流程管理日志                                                                                                     | 跨渠道客户活动、购买、帐户变更以及问题报表                                     |
| 呼叫详细信息记录             | 呼叫详细信息记录 (CDR)、计费数据记录、事件数据记录均由电信和网络交换机所记录。                                       | 计费、收入保证、客户保证、合作伙伴结算，营销智能                               |
| 点击流数据                   | Web 服务器、路由器、代理服务器和广告服务器                                                                           | 可用性分析、数字市场营销和一般调查                                             |
| 配置文件                     | 系统配置文件                                                                                                         | 如何设置基础设施、调试故障、后门攻击、”定时炸弹”病毒                           |
| 数据库审计日志               | 数据库日志文件、审计表                                                                                               | 如何根据时间修改数据库数据以及如何确定修改人                                   |
| 文件系统审计日志             | 敏感数据存储在共享文件系统中                                                                                         | 监测并审计敏感数据读取权限                                                     |
| 管理并记录 API               | 通过 OPSEC Log Export API (OPSEC LEA) 和其他 VMware 和 Citrix 供应商特定 API 的 Checkpoint 防火墙                    | 管理数据和日志事件                                                             |
| 消息队列                     | JMS、RabbitMQ 和 AquaLogic                                                                                           | 调试复杂应用中的问题，并作为记录应用架构基础                                   |
| 操作系统度量、状态和诊断命令 | 通过命令行实用程序(例如 Unix 和 Linux 上的 ps 与 iostat 以及 Windows 上的性能监视器)显示的 CPU、内存利用率和状态信息 | 故障排除、分析趋势以发现潜在问题并调查安全事件                                 |
| 数据包/流量数据              | tcpdump 和 tcpflow 可生成 pcap 或流量数据以及其他有用的数据包级和会话级信息                                          | 性能降级、超时、瓶颈或可疑活动可表明网络被入侵或者受到远程攻击                 |
| SCADA 数据                   | 监视控制与数据采集 (SCADA)                                                                                           | 识别 SCADA 基础结构中的趋势、模式和异常情况，并用于实现客户价值                |
| 传感器数据                   | 传感器设备可以根据监测环境条件生成数据，例如气温、声音、压力、功率以及水位                                           | 水位监测、机器健康状态监测和智能家居监测                                       |
| Syslog                       | 路由器、交换机和网络设备上的 Syslog                                                                                  | 故障排除、分析、安全审计                                                       |
| Web 访问日志                 | Web 访问日志会报告 Web 服务器处理的每个请求                                                                          | Web 市场营销分析报表                                                           |
| Web 代理日志                 | Web 代理记录用户通过代理发出的每个 Web 请求                                                                          | 监测并调查服务条款以及数据泄露事件                                             |
| Windows 事件                 | Windows 应用、安全和系统事件日志                                                                                     | 使用业务关键应用、安全信息和使用模式检测问题。                                 |
| 线上数据                     | DNS 查找和记录，协议级信息，包括标头、内容以及流记录                                                                 | 主动监测应用性能和可用性、最终客户体验、事件调查、网络、威胁检测、监控和合规性 |

## 大数据存储与处理

大数据不仅仅意味着庞大的数据量，还意味着数据纬度之多。

## 数据仓库与数据治理

随着企业应用复杂性的上升和微服务架构的流行，数据正变得越来越以应用为中心。服务之间仅在必要时以接口或者消息队列方式进行数据交互，从而避免了构建单一数据库集群来支撑不断增长的业务需要。以应用为中心的数据持久化架构，在带来可伸缩性好处的同时，也给数据的融合计算带来了障碍。

由于数据散落在不同的数据库、消息队列、文件系统中，计算平台如果直接访问这些数据，会遇到可访问性和数据传输延迟等问题。在一些场景下，计算平台直接访问应用系统数据库会对系统吞吐造成显著影响，通常也是不被允许的。

依赖于 ETL，Data Pipeline 与数据仓库等不同层次的解决方案。
