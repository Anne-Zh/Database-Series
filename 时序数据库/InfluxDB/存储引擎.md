# 存储引擎

时序数据库的存储引擎主要需满足以下三个主要场景的性能需求：

- 大批量的时序数据写入的高性能

- 直接根据时间线(即 Influxdb 中的 Serieskey)在指定时间戳范围内扫描数据的高性能

- 间接通过 measurement 和部分 tag 查询指定时间戳范围内所有满足条件的时序数据的高性能

# WAL 解析

InfluxDB 写入时序数据时为了确保数据完整性和可用性，与大部分数据库产品一样，都是会先写 WAL,再写入缓存，最后刷盘。对于 InfluxDB 而言，写入时序数据的主要流程如同下图所示：

![时序数据写入流程](https://s2.ax1x.com/2019/11/20/MWlg6x.png)
